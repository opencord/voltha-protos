{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6993fe00_8b5f0c33",
        "filename": "protos/voltha_protos/openolt.proto",
        "patchSetId": 7
      },
      "lineNbr": 260,
      "author": {
        "id": 1000558
      },
      "writtenOn": "2024-04-04T17:24:46Z",
      "side": 1,
      "message": "For Broadcom-based OLTs, we first need to enable statistics for an Alloc Id before we query the alloc ID statistics (stats collection for alloc ids is disabled by default). And after we get what we need, we need to disable the stats for that alloc ID since the max number of alloc IDs for which stats can be collected is quite limited (As far as I know, it is 16 per OLT, not per PON, in ASGvOLT64 and ASXvOLT16). So, we should either have separate grpc methods to enable/disable stats for a specific alloc id (or set of alloc ids) or we should give a duration to GetAllocIdStatistics where we first enable stats for the corresponding alloc id,wait for that duration, collect the stats and disable stats for the alloc id and return the stats.",
      "revId": "4e0048c36c5be3f23a37fbe3182d9a92a85b6787",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "236d8162_f4e66c69",
        "filename": "protos/voltha_protos/openolt.proto",
        "patchSetId": 7
      },
      "lineNbr": 260,
      "author": {
        "id": 1000960
      },
      "writtenOn": "2024-04-10T05:52:14Z",
      "side": 1,
      "message": "Sure. Thanks for the suggestion. We will handle this in openolt agent while getting the allocId stats. Hence there wouldn\u0027t be any changes required in protos. Hope this is fine ?",
      "parentUuid": "6993fe00_8b5f0c33",
      "revId": "4e0048c36c5be3f23a37fbe3182d9a92a85b6787",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71c09734_191091d5",
        "filename": "protos/voltha_protos/openolt.proto",
        "patchSetId": 7
      },
      "lineNbr": 260,
      "author": {
        "id": 1000558
      },
      "writtenOn": "2024-04-16T15:41:15Z",
      "side": 1,
      "message": "Hi Sridhar, I have just dropped a comment to your change on the agent side. As I wrote in my previous comment, we need to wait for some time, which may be given as a parameter to GetAllocIdStatistics, before we collect and disable the stats for an allocId after we enable stats for it, if we want to handle this enable and collect actions at once with a single grpc method.",
      "parentUuid": "236d8162_f4e66c69",
      "revId": "4e0048c36c5be3f23a37fbe3182d9a92a85b6787",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48df4351_c2f3b1d0",
        "filename": "protos/voltha_protos/openolt.proto",
        "patchSetId": 7
      },
      "lineNbr": 260,
      "author": {
        "id": 1000960
      },
      "writtenOn": "2024-04-24T08:43:11Z",
      "side": 1,
      "message": "Hi Burak. We will add a wait with pre configured interval in the agent after enabling the alloc stats. After the wait, agent will collect the stats and disable it. We will not make this time interval parameterized for the GetAllocIdStats grpc method, as it would lead to NB setting different intervals which cannot be controlled. Higher the interval set by NB, might result in grpc timeouts.",
      "parentUuid": "71c09734_191091d5",
      "revId": "4e0048c36c5be3f23a37fbe3182d9a92a85b6787",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    }
  ]
}