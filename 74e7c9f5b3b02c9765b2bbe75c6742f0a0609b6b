{
  "comments": [
    {
      "key": {
        "uuid": "90bca145_d3629f52",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 82,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "To my understanding following attributes are or may have been used only in legacy implementation, but not within DeviceImageDownloadRequest - do you want to add some according comment for that?:\nhash, install_datetime, is_active, is_committed, is_valid",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "430a733c_f49fb770",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 82,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "the hash can still be used. I\u0027ll add comments for the others.",
      "parentUuid": "90bca145_d3629f52",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "604a0e19_344bcd51",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 82,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T13:18:22Z",
      "side": 1,
      "message": "See below hash discussion, in my point of view we should not support it here in the new implementation - for whatever reason and how it might have been used so far.",
      "parentUuid": "430a733c_f49fb770",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c4ee76e_e49c819f",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 112,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "What would \u0027optional\u0027 mean for the rpc: vendor\u003dnil?",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6003275c_61f32b4b",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 112,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "it will be empty in the proto because it will not be specified in the gRPC call (e.g not specified in VOLTCTL)",
      "parentUuid": "2c4ee76e_e49c819f",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a02e643_1e925992",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 112,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T10:42:05Z",
      "side": 1,
      "message": "And if not specified in the voltctl command, then the Adapter\u0027s rpc element will be nil, correct?",
      "parentUuid": "6003275c_61f32b4b",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc45cc62_52c2aed3",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 112,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T11:18:40Z",
      "side": 1,
      "message": "correct, you will get it empty",
      "parentUuid": "3a02e643_1e925992",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a058da0_6600b5ec",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 114,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "In future we could as well consider to include more attributes for giving a way of tuning the download for a vendor type ONU (or even individual ONU) or image, e.g by setting the download timeout or RecommendedWindowSize .. \nBut I would not go that far by now ...",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21c480ac_a348dada",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 114,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "ACK, let me add a comment.",
      "parentUuid": "6a058da0_6600b5ec",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f6ab5fc_d9a2eca0",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 201,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "Question is, if we really want to or have to support this. I don\u0027t have the impression that it is really required from DT (and not yet available for TT anyway). Problem is that the effort of getting this is a bit higher compared to the other attributes (due to size). \nPerhaps these attributes are meant as kind of optional - perhaps also giving us the chance to support that later? But I don\u0027t know how that \u0027option\u0027 whould look like in the rpc ...\nSo - yes, it is possible to support and I would not exclude it from being feasible for 2.8, but I\u0027m not sure if it s really required (there is not really that much useful information for the operator).",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a11ad1c9_47dfe40a",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "same comment as for product code",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f26191d2_afde6d07",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "this can be copied from the DowloadRequest, also I\u0027m fine leaving in for now and not implementing.",
      "parentUuid": "a11ad1c9_47dfe40a",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46471787_47ef10a1",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T10:42:05Z",
      "side": 1,
      "message": "No, this is the hash as delivered by the ONU, the DownloadRequest hash seems to be something else - I don\u0027t know what (see comment there).\nSo I understand you want to leave these attributes here and leave it to the implementation to deliver something here or not. If so - ok.",
      "parentUuid": "f26191d2_afde6d07",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b445d3e9_0f7e0cc1",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T11:18:40Z",
      "side": 1,
      "message": "I\u0027m not getting the point, these two ashes should be the same, no ? how can it otherwise be checked ?",
      "parentUuid": "46471787_47ef10a1",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25290265_5011bf54",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T13:18:22Z",
      "side": 1,
      "message": "Here - within the OnuImage structure, this will be the (MD5) hash of the images as delivered by the ONU. This in my point of view is supplementary information (if delivered by the ONU at all) and could in theory still be used by the operator for trying to make \u0027really-really\u0027 sure, that it was the imaged as delivered for download.\nBut: Concerning the OMCI processing there is no request at all to verify that on the OMCI processing entities. Validity of the image is based on CRC check only (and length and if it runs correctly afterwards). So: if at all, the hash here is only transported to the operator (and the question is really if that is some useful information there).\nI\u0027m not sure about the intention of the hash attribute in the Image message. Initially thought it could have been used as an efficient way of storing image related (data base) information. But maybe the original intention really was to have that configured from operator to enable an hash comparison between the configured hash and the ONU delivered hash (note they are still different instances - can\u0027t be copied from DownloadRequest). But as stated, there is no requirement for checking the coincidence of these values on the OMCI termination points (acc. to G988) - so I would not want to support such in the ONU Adapter.",
      "parentUuid": "b445d3e9_0f7e0cc1",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf562881_b2c2a6c1",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000097
      },
      "writtenOn": "2021-04-15T13:36:40Z",
      "side": 1,
      "message": "@Micheal As I understand the \"hash\" attribute in the Image (line 83 above) is needed, as we need to send the crc in the EndDownload based on which the ONU will figure out if indeed the image that has been downloaded is correct or not.\n\nMaybe am missing something here.",
      "parentUuid": "25290265_5011bf54",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5e72869_da677147",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000097
      },
      "writtenOn": "2021-04-15T13:50:10Z",
      "side": 1,
      "message": "My bad... I confused between the hash and crc-32.. I think we need to pass in the crc-32 of the  image for the ONU to cross check that the donwloaded image is correct",
      "parentUuid": "bf562881_b2c2a6c1",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a453c45_eb9255e1",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 202,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T13:51:27Z",
      "side": 1,
      "message": "Discussed with Andreas in Slack: Hash is something else as (the) CRC (used here).\nCRC is computed from the adapter itself, we agreed on not having this as a configuration paramter.",
      "parentUuid": "bf562881_b2c2a6c1",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f09cf5d2_badf36ed",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 230,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "I\u0027d prefer some additional errors:\nVENDOR_DEVICE_MISMATCH\nCANCELLED_ON_REQUEST\nCANCELLED_ON_ONU_STATE\nOMCI_TRANSFER_ERROR\nIMAGE_REFUSED_BY_ONU\n(UNKNOWN_ERROR for all that we do not specify that clearly so far)",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "161cad69_fcd4450c",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 230,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f09cf5d2_badf36ed",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a41fc6da_ee43d96f",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 231,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "see above",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af537ef1_d9f01e4e",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 231,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a41fc6da_ee43d96f",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62f7968f_84c3103c",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 236,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "As this state must be given also already at download and at that time it is not really defined (as \u0027activationStateOnONU\u0027) I would recommend to insert also this state here:\nIMAGE_DOWNLOADING",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9deb9415_8922afd4",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 236,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "no, this can be left empty and if not used in the processing of the Download request no problem will arise, no need to specify it.",
      "parentUuid": "62f7968f_84c3103c",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "661d62b8_571afee9",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 236,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T10:42:05Z",
      "side": 1,
      "message": "What shall do voltctl with this then? When still downloading and the application delivers an empty string, then voltctl can only convert that to \u0027unknown\u0027. I would like to avoid that and prefer \u0027imageDownloading\u0027 here.",
      "parentUuid": "9deb9415_8922afd4",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1d49fbc_1263d89f",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 236,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T11:18:40Z",
      "side": 1,
      "message": "sure, I\u0027ll add that, but in voltctl we will put it to empty",
      "parentUuid": "661d62b8_571afee9",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5581f52d_340fd0e9",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 236,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T13:18:22Z",
      "side": 1,
      "message": "You mean IMAGE_DOWNLOADING -\u003e \"EMPTY\" or \"\", that is acceptable to me as well. But I would like to have something differnt for \"IMAGE_UNKNOWN\", which should indicate, that the wanted image is really not available for activation/commitment.",
      "parentUuid": "a1d49fbc_1263d89f",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "903654ce_9a619993",
        "filename": "protos/voltha_protos/device.proto",
        "patchSetId": 7
      },
      "lineNbr": 236,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T14:16:49Z",
      "side": 1,
      "message": "I added the IMAGE_DOWLOADING state. In the implementation of the download nor the core nor the adapter should care about the ImageActivationState. if the get want to put DOWLOADING in there when queried I\u0027m ok, but I\u0027m ok also leaving empty",
      "parentUuid": "5581f52d_340fd0e9",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "98171f76_27419742",
        "filename": "protos/voltha_protos/voltha.proto",
        "patchSetId": 7
      },
      "lineNbr": 173,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "The included \u0027Image image\u0027 already includes the version, is this really needed as extra parameter here?",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db9174e1_9c90e620",
        "filename": "protos/voltha_protos/voltha.proto",
        "patchSetId": 7
      },
      "lineNbr": 173,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "98171f76_27419742",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4a1f42c_be30ca3b",
        "filename": "protos/voltha_protos/voltha.proto",
        "patchSetId": 7
      },
      "lineNbr": 508,
      "author": {
        "id": 1000666
      },
      "writtenOn": "2021-04-15T08:26:23Z",
      "side": 1,
      "message": "Perhaps more generally: AbortSoftwareUpgradeToDevice (or similar) - which would give more flexibility to also include the cancellation of activation or committment (in case some problems should be detected at that processing).",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0739581_6f8a8b90",
        "filename": "protos/voltha_protos/voltha.proto",
        "patchSetId": 7
      },
      "lineNbr": 508,
      "author": {
        "id": 1000116
      },
      "writtenOn": "2021-04-15T09:24:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e4a1f42c_be30ca3b",
      "revId": "74e7c9f5b3b02c9765b2bbe75c6742f0a0609b6b",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}